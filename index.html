<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Webduino PM2.5</title>
    <link rel="stylesheet" type="text/css" href="css/pm25.css">
    <link rel="stylesheet" type="text/css" href="css/slider.css">
    <script src="https://blocklypro.webduino.io/components/jquery/dist/jquery.min.js"></script>
    <script src="https://webduino.io/components/webduino-js/dist/webduino-all.min.js"></script>
    <script src="https://blockly.webduino.io/webduino-blockly.js"></script>
    <script src="https://blockly.webduino.io/lib/firebase.js"></script>
    <script src="https://blockly.webduino.io/lib/runtime.min.js"></script>
    <script src="https://blocklypro.webduino.io/components/webduino-module-pm25/G3.js"></script>
    <script src="https://blocklypro.webduino.io/components/webduino-module-pm25/G3-blockly.js"></script>
    <script src="js/slider.js"></script>
</head>

<body>
    <div class="container-fluid section1" id="bgc">
        <img src="img/webduino-logo.png" alt="" class="logo">
        <div class="pm25-information">
            <p class="title">PM2.5 濃度<br>( μg/m3 )</p>
            <span id="demo-area-01-show" class="pm25-value">0</span>
            <br>
            <span class="pm25-status" id="123">空氣品質狀態</span>
        </div>
    </div>
    <div class="container-fluid section2">
        <p>PM2.5 細懸浮微粒偵測</p>
    </div>
    <script>
    (function() {
        var g3;

        boardReady({ board: 'Smart', device: '10vVvJDV', transport: 'mqtt' }, function(board) {
            board.systemReset();
            board.samplingInterval = 250;
            g3 = getG3(board, 14, 3);
            // document.getElementById("demo-area-01-show").style.fontSize = 30 + "px";
            g3.read(function(evt) {
                if (g3.pm25 <= 11) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：良好'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#89C541';
                } else if (g3.pm25 <= 23) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：尚可'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#48B04B';
                } else if (g3.pm25 <= 35) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：良好'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#388E3C';
                } else if (g3.pm25 <= 41) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：尚可'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#FCD700';
                } else if (g3.pm25 <= 47) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：尚可'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#FFC107';
                } else if (g3.pm25 <= 53) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：尚可'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#FF9800';
                } else if (g3.pm25 <= 58) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：不健康'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#FF5252';
                } else if (g3.pm25 <= 64) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：不健康'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#F44336';
                } else if (g3.pm25 <= 70) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：不健康'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#D32F2F';
                } else if (g3.pm25 > 71) {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：危害'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#9D1CB2';
                } else {
                    document.getElementById("demo-area-01-show").innerHTML = ([g3.pm25].join(''));
                    document.getElementById("123").innerHTML = (['空氣品質：危害'].join(''));
                    document.getElementById("bgc").style.backgroundColor = '#9D1CB2';
                }
            }, 1000);
        });
    }());
    </script>
</body>

</html>